
load @treesurf/moon
  take form and
  take form any
  take form index
  take form key-list
  take form like
  take form or
  take form task

load @treesurf/nest/code/javascript
  take form array

load @treesurf/nest/code/javascript/native
  take form boolean
    save form native-boolean
  take form null
    save form native-null
  take form number
    save form native-number
  take form string
    save form native-string
  take form void
    save form native-void

load @treesurf/nest/code/javascript/dom
  take form add-event-listener-options
  take form animation-event
  take form animation-playback-event
  take form attr
  take form audio-processing-event
  take form before-unload-event
  take form blob-event
  take form cdata-section
  take form clipboard-event
  take form close-event
  take form comment
  take form composition-event
  take form custom-event
  take form device-motion-event
  take form device-orientation-event
  take form document-and-element-event-handlers
  take form document-event-map
  take form document-fragment
  take form document-or-shadow-root
  take form document-ready-state
  take form document-timeline
  take form document-type
  take form dom-implementation
  take form drag-event
  take form element
  take form element-creation-options
  take form error-event
  take form event
  take form event-listener-options
  take form event-listener-or-event-listener-object
  take form focus-event
  take form font-face-set-load-event
  take form font-face-source
  take form form-data-event
  take form gamepad-event
  take form global-event-handlers
  take form hash-change-event
  take form html-all-collection
  take form html-anchor-element
  take form html-area-element
  take form html-collection
  take form html-collection-of
  take form html-element
  take form html-element-deprecated-tag-name-map
  take form html-element-tag-name-map
  take form html-embed-element
  take form html-form-element
  take form html-head-element
  take form html-image-element
  take form html-or-svg-script-element
  take form html-script-element
  take form idb-version-change-event
  take form input-event
  take form keyboard-event
  take form location
  take form media-encrypted-event
  take form media-key-message-event
  take form media-query-list-event
  take form media-recorder-error-event
  take form media-stream-track-event
  take form message-event
  take form mouse-event
  take form mutation-event
  take form node
  take form node-filter
  take form node-iterator
  take form node-list-of
  take form non-element-parent-node
  take form offline-audio-completion-event
  take form page-transition-event
  take form parent-node
  take form payment-method-change-event
  take form payment-request-update-event
  take form pointer-event
  take form pop-state-event
  take form processing-instruction
  take form progress-event
  take form promise-rejection-event
  take form range
  take form rtc-data-channel-event
  take form rtc-peer-connection-ice-error-event
  take form rtc-peer-connection-ice-event
  take form rtc-track-event
  take form rtcdtmf-tone-change-event
  take form security-policy-violation-event
  take form selection
  take form speech-recognition-error-event
  take form speech-synthesis-error-event
  take form speech-synthesis-event
  take form storage-event
  take form submit-event
  take form svg-element
  take form svg-element-tag-name-map
  take form text
  take form touch-event
  take form track-event
  take form transition-event
  take form tree-walker
  take form ui-event
  take form url
  take form visibility-state
  take form web-gl-context-event
  take form wheel-event
  take form window-proxy
  take form x-path-evaluator-base

load @treesurf/nest/code/javascript/es5
  take form promise

form document, name <Document>
  base node
  base document-and-element-event-handlers
  base document-or-shadow-root
  base font-face-source
  base global-event-handlers
  base non-element-parent-node
  base parent-node
  base x-path-evaluator-base

  link url, name <URL>
    like native-string
  link alink-color, name <alinkColor>
    like native-string
    flex true
  link all, name <all>
    like html-all-collection
  link anchors, name <anchors>
    like html-collection-of
      like html-anchor-element
  link applets, name <applets>
    like html-collection
  link bg-color, name <bgColor>
    like native-string
    flex true
  link body, name <body>
    like html-element
    flex true
  link character-set, name <characterSet>
    like native-string
  link charset, name <charset>
    like native-string
  link compat-mode, name <compatMode>
    like native-string
  link content-type, name <contentType>
    like native-string
  link cookie, name <cookie>
    like native-string
    flex true
  link current-script, name <currentScript>
    like or
      like html-or-svg-script-element
      like native-null
  link default-view, name <defaultView>
    like or
      like and
        like window-proxy
        like global-this
      like native-null
  link design-mode, name <designMode>
    like native-string
    flex true
  link dir, name <dir>
    like native-string
    flex true
  link doctype, name <doctype>
    like or
      like document-type
      like native-null
  link document-element, name <documentElement>
    like html-element
  link document-uri, name <documentURI>
    like native-string
  link domain, name <domain>
    like native-string
    flex true
  link embeds, name <embeds>
    like html-collection-of
      like html-embed-element
  link fg-color, name <fgColor>
    like native-string
    flex true
  link forms, name <forms>
    like html-collection-of
      like html-form-element
  link fullscreen, name <fullscreen>
    like native-boolean
  link fullscreen-enabled, name <fullscreenEnabled>
    like native-boolean
  link head, name <head>
    like html-head-element
  link hidden, name <hidden>
    like native-boolean
  link images, name <images>
    like html-collection-of
      like html-image-element
  link implementation, name <implementation>
    like dom-implementation
  link input-encoding, name <inputEncoding>
    like native-string
  link last-modified, name <lastModified>
    like native-string
  link link-color, name <linkColor>
    like native-string
    flex true
  link links, name <links>
    like html-collection-of
      like or
        like html-anchor-element
        like html-area-element
  link onfullscreenchange, name <onfullscreenchange>
    like or
      like task
        take this, like document
        take ev, like event
        free seed, like any
      like native-null
    flex true
  link onfullscreenerror, name <onfullscreenerror>
    like or
      like task
        take this, like document
        take ev, like event
        free seed, like any
      like native-null
    flex true
  link onpointerlockchange, name <onpointerlockchange>
    like or
      like task
        take this, like document
        take ev, like event
        free seed, like any
      like native-null
    flex true
  link onpointerlockerror, name <onpointerlockerror>
    like or
      like task
        take this, like document
        take ev, like event
        free seed, like any
      like native-null
    flex true
  link onreadystatechange, name <onreadystatechange>
    like or
      like task
        take this, like document
        take ev, like event
        free seed, like any
      like native-null
    flex true
  link onvisibilitychange, name <onvisibilitychange>
    like or
      like task
        take this, like document
        take ev, like event
        free seed, like any
      like native-null
    flex true
  link owner-document, name <ownerDocument>
    like native-null
  link picture-in-picture-enabled, name <pictureInPictureEnabled>
    like native-boolean
  link plugins, name <plugins>
    like html-collection-of
      like html-embed-element
  link ready-state, name <readyState>
    like document-ready-state
  link referrer, name <referrer>
    like native-string
  link scripts, name <scripts>
    like html-collection-of
      like html-script-element
  link scrolling-element, name <scrollingElement>
    like or
      like element
      like native-null
  link timeline, name <timeline>
    like document-timeline
  link title, name <title>
    like native-string
    flex true
  link visibility-state, name <visibilityState>
    like visibility-state
  link vlink-color, name <vlinkColor>
    like native-string
    flex true

  task location, name <location>
    free seed, like location

  task location, name <location>
    take href
      like or
        like native-string
        like location

  task adopt-node, name <adoptNode>
    head t
      base node

    take node, like t
    free seed, like t

  task capture-events, name <captureEvents>
    free seed, like native-void

  task clear, name <clear>
    free seed, like native-void

  task close, name <close>
    free seed, like native-void

  task create-attribute, name <createAttribute>
    take local-name, like native-string
    free seed, like attr

  task create-attribute-ns, name <createAttributeNS>
    take namespace
      like or
        like native-string
        like native-null
    take qualified-name, like native-string
    free seed, like attr

  task create-cdata-section, name <createCDATASection>
    take data, like native-string
    free seed, like cdata-section

  task create-comment, name <createComment>
    take data, like native-string
    free seed, like comment

  task create-document-fragment, name <createDocumentFragment>
    free seed, like document-fragment

  task create-element, name <createElement>
    head k
      base key-list
        like html-element-tag-name-map

    take tag-name, like k
    take options, like element-creation-options
      void true
    free seed
      like index
        like html-element-tag-name-map
        like k

  task create-element, name <createElement>
    head k
      base key-list
        like html-element-deprecated-tag-name-map

    take tag-name, like k
    take options, like element-creation-options
      void true
    free seed
      like index
        like html-element-deprecated-tag-name-map
        like k

  task create-element, name <createElement>
    take tag-name, like native-string
    take options, like element-creation-options
      void true
    free seed, like html-element

  task create-element-ns, name <createElementNS>
    take namespace-uri, text <http://www.w3.org/1999/xhtml>
    take qualified-name, like native-string
    free seed, like html-element

  task create-element-ns, name <createElementNS>
    head k
      base key-list
        like svg-element-tag-name-map

    take namespace-uri, text <http://www.w3.org/2000/svg>
    take qualified-name, like k
    free seed
      like index
        like svg-element-tag-name-map
        like k

  task create-element-ns, name <createElementNS>
    take namespace-uri, text <http://www.w3.org/2000/svg>
    take qualified-name, like native-string
    free seed, like svg-element

  task create-element-ns, name <createElementNS>
    take namespace-uri
      like or
        like native-string
        like native-null
    take qualified-name, like native-string
    take options, like element-creation-options
      void true
    free seed, like element

  task create-element-ns, name <createElementNS>
    take namespace
      like or
        like native-string
        like native-null
    take qualified-name, like native-string
    take options
      like or
        like native-string
        like element-creation-options
      void true
    free seed, like element

  task create-event, name <createEvent>
    take event-interface, text <AnimationEvent>
    free seed, like animation-event

  task create-event, name <createEvent>
    take event-interface, text <AnimationPlaybackEvent>
    free seed, like animation-playback-event

  task create-event, name <createEvent>
    take event-interface, text <AudioProcessingEvent>
    free seed, like audio-processing-event

  task create-event, name <createEvent>
    take event-interface, text <BeforeUnloadEvent>
    free seed, like before-unload-event

  task create-event, name <createEvent>
    take event-interface, text <BlobEvent>
    free seed, like blob-event

  task create-event, name <createEvent>
    take event-interface, text <ClipboardEvent>
    free seed, like clipboard-event

  task create-event, name <createEvent>
    take event-interface, text <CloseEvent>
    free seed, like close-event

  task create-event, name <createEvent>
    take event-interface, text <CompositionEvent>
    free seed, like composition-event

  task create-event, name <createEvent>
    take event-interface, text <CustomEvent>
    free seed, like custom-event

  task create-event, name <createEvent>
    take event-interface, text <DeviceMotionEvent>
    free seed, like device-motion-event

  task create-event, name <createEvent>
    take event-interface, text <DeviceOrientationEvent>
    free seed, like device-orientation-event

  task create-event, name <createEvent>
    take event-interface, text <DragEvent>
    free seed, like drag-event

  task create-event, name <createEvent>
    take event-interface, text <ErrorEvent>
    free seed, like error-event

  task create-event, name <createEvent>
    take event-interface, text <FocusEvent>
    free seed, like focus-event

  task create-event, name <createEvent>
    take event-interface, text <FontFaceSetLoadEvent>
    free seed, like font-face-set-load-event

  task create-event, name <createEvent>
    take event-interface, text <FormDataEvent>
    free seed, like form-data-event

  task create-event, name <createEvent>
    take event-interface, text <GamepadEvent>
    free seed, like gamepad-event

  task create-event, name <createEvent>
    take event-interface, text <HashChangeEvent>
    free seed, like hash-change-event

  task create-event, name <createEvent>
    take event-interface, text <IDBVersionChangeEvent>
    free seed, like idb-version-change-event

  task create-event, name <createEvent>
    take event-interface, text <InputEvent>
    free seed, like input-event

  task create-event, name <createEvent>
    take event-interface, text <KeyboardEvent>
    free seed, like keyboard-event

  task create-event, name <createEvent>
    take event-interface, text <MediaEncryptedEvent>
    free seed, like media-encrypted-event

  task create-event, name <createEvent>
    take event-interface, text <MediaKeyMessageEvent>
    free seed, like media-key-message-event

  task create-event, name <createEvent>
    take event-interface, text <MediaQueryListEvent>
    free seed, like media-query-list-event

  task create-event, name <createEvent>
    take event-interface, text <MediaRecorderErrorEvent>
    free seed, like media-recorder-error-event

  task create-event, name <createEvent>
    take event-interface, text <MediaStreamTrackEvent>
    free seed, like media-stream-track-event

  task create-event, name <createEvent>
    take event-interface, text <MessageEvent>
    free seed, like message-event

  task create-event, name <createEvent>
    take event-interface, text <MouseEvent>
    free seed, like mouse-event

  task create-event, name <createEvent>
    take event-interface, text <MouseEvents>
    free seed, like mouse-event

  task create-event, name <createEvent>
    take event-interface, text <MutationEvent>
    free seed, like mutation-event

  task create-event, name <createEvent>
    take event-interface, text <MutationEvents>
    free seed, like mutation-event

  task create-event, name <createEvent>
    take event-interface, text <OfflineAudioCompletionEvent>
    free seed, like offline-audio-completion-event

  task create-event, name <createEvent>
    take event-interface, text <PageTransitionEvent>
    free seed, like page-transition-event

  task create-event, name <createEvent>
    take event-interface, text <PaymentMethodChangeEvent>
    free seed, like payment-method-change-event

  task create-event, name <createEvent>
    take event-interface, text <PaymentRequestUpdateEvent>
    free seed, like payment-request-update-event

  task create-event, name <createEvent>
    take event-interface, text <PointerEvent>
    free seed, like pointer-event

  task create-event, name <createEvent>
    take event-interface, text <PopStateEvent>
    free seed, like pop-state-event

  task create-event, name <createEvent>
    take event-interface, text <ProgressEvent>
    free seed, like progress-event

  task create-event, name <createEvent>
    take event-interface, text <PromiseRejectionEvent>
    free seed, like promise-rejection-event

  task create-event, name <createEvent>
    take event-interface, text <RTCDTMFToneChangeEvent>
    free seed, like rtcdtmf-tone-change-event

  task create-event, name <createEvent>
    take event-interface, text <RTCDataChannelEvent>
    free seed, like rtc-data-channel-event

  task create-event, name <createEvent>
    take event-interface, text <RTCPeerConnectionIceErrorEvent>
    free seed, like rtc-peer-connection-ice-error-event

  task create-event, name <createEvent>
    take event-interface, text <RTCPeerConnectionIceEvent>
    free seed, like rtc-peer-connection-ice-event

  task create-event, name <createEvent>
    take event-interface, text <RTCTrackEvent>
    free seed, like rtc-track-event

  task create-event, name <createEvent>
    take event-interface, text <SecurityPolicyViolationEvent>
    free seed, like security-policy-violation-event

  task create-event, name <createEvent>
    take event-interface, text <SpeechRecognitionErrorEvent>
    free seed, like speech-recognition-error-event

  task create-event, name <createEvent>
    take event-interface, text <SpeechSynthesisErrorEvent>
    free seed, like speech-synthesis-error-event

  task create-event, name <createEvent>
    take event-interface, text <SpeechSynthesisEvent>
    free seed, like speech-synthesis-event

  task create-event, name <createEvent>
    take event-interface, text <StorageEvent>
    free seed, like storage-event

  task create-event, name <createEvent>
    take event-interface, text <SubmitEvent>
    free seed, like submit-event

  task create-event, name <createEvent>
    take event-interface, text <TouchEvent>
    free seed, like touch-event

  task create-event, name <createEvent>
    take event-interface, text <TrackEvent>
    free seed, like track-event

  task create-event, name <createEvent>
    take event-interface, text <TransitionEvent>
    free seed, like transition-event

  task create-event, name <createEvent>
    take event-interface, text <UIEvent>
    free seed, like ui-event

  task create-event, name <createEvent>
    take event-interface, text <UIEvents>
    free seed, like ui-event

  task create-event, name <createEvent>
    take event-interface, text <WebGLContextEvent>
    free seed, like web-gl-context-event

  task create-event, name <createEvent>
    take event-interface, text <WheelEvent>
    free seed, like wheel-event

  task create-event, name <createEvent>
    take event-interface, like native-string
    free seed, like event

  task create-node-iterator, name <createNodeIterator>
    take root, like node
    take what-to-show, like native-number
      void true
    take filter
      like or
        like node-filter
        like native-null
      void true
    free seed, like node-iterator

  task create-processing-instruction, name <createProcessingInstruction>
    take target, like native-string
    take data, like native-string
    free seed, like processing-instruction

  task create-range, name <createRange>
    free seed, like range

  task create-text-node, name <createTextNode>
    take data, like native-string
    free seed, like text

  task create-tree-walker, name <createTreeWalker>
    take root, like node
    take what-to-show, like native-number
      void true
    take filter
      like or
        like node-filter
        like native-null
      void true
    free seed, like tree-walker

  task element-from-point, name <elementFromPoint>
    take x, like native-number
    take y, like native-number
    free seed
      like or
        like element
        like native-null

  task elements-from-point, name <elementsFromPoint>
    take x, like native-number
    take y, like native-number
    free seed
      like array
        like element

  task exec-command, name <execCommand>
    take command-id, like native-string
    take show-ui, like native-boolean
      void true
    take value, like native-string
      void true
    free seed, like native-boolean

  task exit-fullscreen, name <exitFullscreen>
    free seed
      like promise
        like native-void

  task exit-picture-in-picture, name <exitPictureInPicture>
    free seed
      like promise
        like native-void

  task exit-pointer-lock, name <exitPointerLock>
    free seed, like native-void

  task get-element-by-id, name <getElementById>
    take element-id, like native-string
    free seed
      like or
        like html-element
        like native-null

  task get-elements-by-class-name, name <getElementsByClassName>
    take class-names, like native-string
    free seed
      like html-collection-of
        like element

  task get-elements-by-name, name <getElementsByName>
    take element-name, like native-string
    free seed
      like node-list-of
        like html-element

  task get-elements-by-tag-name, name <getElementsByTagName>
    head k
      base key-list
        like html-element-tag-name-map

    take qualified-name, like k
    free seed
      like html-collection-of
        like index
          like html-element-tag-name-map
          like k

  task get-elements-by-tag-name, name <getElementsByTagName>
    head k
      base key-list
        like svg-element-tag-name-map

    take qualified-name, like k
    free seed
      like html-collection-of
        like index
          like svg-element-tag-name-map
          like k

  task get-elements-by-tag-name, name <getElementsByTagName>
    take qualified-name, like native-string
    free seed
      like html-collection-of
        like element

  task get-elements-by-tag-name-ns, name <getElementsByTagNameNS>
    take namespace-uri, text <http://www.w3.org/1999/xhtml>
    take local-name, like native-string
    free seed
      like html-collection-of
        like html-element

  task get-elements-by-tag-name-ns, name <getElementsByTagNameNS>
    take namespace-uri, text <http://www.w3.org/2000/svg>
    take local-name, like native-string
    free seed
      like html-collection-of
        like svg-element

  task get-elements-by-tag-name-ns, name <getElementsByTagNameNS>
    take namespace
      like or
        like native-string
        like native-null
    take local-name, like native-string
    free seed
      like html-collection-of
        like element

  task get-selection, name <getSelection>
    free seed
      like or
        like selection
        like native-null

  task has-focus, name <hasFocus>
    free seed, like native-boolean

  task has-storage-access, name <hasStorageAccess>
    free seed
      like promise
        like native-boolean

  task import-node, name <importNode>
    head t
      base node

    take node, like t
    take deep, like native-boolean
      void true
    free seed, like t

  task open, name <open>
    take unused1, like native-string
      void true
    take unused2, like native-string
      void true
    free seed, like document

  task open, name <open>
    take url
      like or
        like native-string
        like url
    take name, like native-string
    take features, like native-string
    free seed
      like or
        like window-proxy
        like native-null

  task query-command-enabled, name <queryCommandEnabled>
    take command-id, like native-string
    free seed, like native-boolean

  task query-command-indeterm, name <queryCommandIndeterm>
    take command-id, like native-string
    free seed, like native-boolean

  task query-command-state, name <queryCommandState>
    take command-id, like native-string
    free seed, like native-boolean

  task query-command-supported, name <queryCommandSupported>
    take command-id, like native-string
    free seed, like native-boolean

  task query-command-value, name <queryCommandValue>
    take command-id, like native-string
    free seed, like native-string

  task release-events, name <releaseEvents>
    free seed, like native-void

  task request-storage-access, name <requestStorageAccess>
    free seed
      like promise
        like native-void

  task write, name <write>
    take text
      like array
        like native-string
      rest true
    free seed, like native-void

  task writeln, name <writeln>
    take text
      like array
        like native-string
      rest true
    free seed, like native-void

  task add-event-listener, name <addEventListener>
    head k
      base key-list
        like document-event-map

    take type, like k
    take listener
      like task
        take this, like document
        take ev
          like index
            like document-event-map
            like k
        free seed, like any
    take options
      like or
        like native-boolean
        like add-event-listener-options
      void true
    free seed, like native-void

  task add-event-listener, name <addEventListener>
    take type, like native-string
    take listener, like event-listener-or-event-listener-object
    take options
      like or
        like native-boolean
        like add-event-listener-options
      void true
    free seed, like native-void

  task remove-event-listener, name <removeEventListener>
    head k
      base key-list
        like document-event-map

    take type, like k
    take listener
      like task
        take this, like document
        take ev
          like index
            like document-event-map
            like k
        free seed, like any
    take options
      like or
        like native-boolean
        like event-listener-options
      void true
    free seed, like native-void

  task remove-event-listener, name <removeEventListener>
    take type, like native-string
    take listener, like event-listener-or-event-listener-object
    take options
      like or
        like native-boolean
        like event-listener-options
      void true
    free seed, like native-void
