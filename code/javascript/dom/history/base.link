
load @treesurf/moon
  take face any
  take face or

load @treesurf/nest/code/javascript/native
  take face native-null
  take face native-number
  take face native-string
  take face native-void

load @treesurf/nest/code/javascript/dom
  take face scroll-restoration
  take face url

face history, name <History>
  link length, name <length>
    like native-number
  link scroll-restoration, name <scrollRestoration>
    like scroll-restoration
    flex true
  link state, name <state>
    like any

  task back, name <back>
    free seed, like native-void

  task forward, name <forward>
    free seed, like native-void

  task go, name <go>
    take delta, like native-number
      void true
    free seed, like native-void

  task push-state, name <pushState>
    take data, like any
    take unused, like native-string
    take url
      like or
        like native-string
        like url
        like native-null
      void true
    free seed, like native-void

  task replace-state, name <replaceState>
    take data, like any
    take unused, like native-string
    take url
      like or
        like native-string
        like url
        like native-null
      void true
    free seed, like native-void
