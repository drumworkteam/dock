
load @treesurf/moon
  take form any
  take form or

load @treesurf/nest/code/javascript/native
  take form native-number
  take form native-undefined
  take form native-void

load @treesurf/nest/code/javascript/dom
  take form idb-cursor-direction
  take form idb-index
  take form idb-object-store
  take form idb-request
  take form idb-valid-key

form idb-cursor, name <IDBCursor>
  link direction, name <direction>
    like idb-cursor-direction
  link key, name <key>
    like idb-valid-key
  link primary-key, name <primaryKey>
    like idb-valid-key
  link request, name <request>
    like idb-request
  link source, name <source>
    like or
      like idb-object-store
      like idb-index

  task advance, name <advance>
    take count, like native-number
    free seed, like native-void

  task continue, name <continue>
    take key, like idb-valid-key
      void true
    free seed, like native-void

  task continue-primary-key, name <continuePrimaryKey>
    take key, like idb-valid-key
    take primary-key, like idb-valid-key
    free seed, like native-void

  task delete, name <delete>
    free seed
      like idb-request
        like native-undefined

  task update, name <update>
    take value, like any
    free seed
      like idb-request
        like idb-valid-key
