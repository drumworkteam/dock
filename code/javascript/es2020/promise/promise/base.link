
load @tunebond/moon
  take suit index
  take suit key-list
  take suit like
  take suit or
  take suit test
  take suit tuple
  take suit unknown

load @tunebond/bolt/code/javascript
  take face array

load @tunebond/bolt/code/javascript/es2015/iterable
  take face iterable

load @tunebond/bolt/code/javascript/es2020/promise
  take face promise-settled-result

load @tunebond/bolt/code/javascript/es5
  take face promise-like

load @tunebond/bolt/code/javascript/native
  take face u

load @tunebond/bolt/code/javascript/es2018/promise/promise
  take face promise

face promise
  hook self
    task all-settled, name <allSettled>
      head t
        base or
          like array
            like unknown
          like tuple
            like unknown

      take values, like t
      free seed
        like promise
          slot self
          walk link-name-like-list
            loan
            like key-list
              like t
            take name
            take p
            beam self
              take {name}
                like promise-settled-result
                  like test
                    stem roll
                      like index
                        like t
                        like p
                      like promise-like
                        name u
                      hook true
                        like u
                      hook false
                        like index
                          like t
                          like p

    task all-settled, name <allSettled>
      head t

      take values
        like iterable
          like t
      free seed
        like promise
          like array
            like promise-settled-result
              like test
                stem roll
                  like t
                  like promise-like
                    name u
                  hook true
                    like u
                  hook false
                    like t
