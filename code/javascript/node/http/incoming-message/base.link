
load @drumwork/moon/code/javascript/base/error
  take form error

load @drumwork/moon/code/javascript/base/native-boolean
  take form native-boolean

load @drumwork/moon/code/javascript/base/native-number
  take form native-number

load @drumwork/moon/code/javascript/base/native-string
  take form native-string

load @drumwork/moon/code/javascript/base/native-this
  take form native-this

load @drumwork/moon/code/javascript/base/native-undefined
  take form native-undefined

load @drumwork/moon/code/javascript/base/native-void
  take form native-void

load @drumwork/moon/code/javascript/base/node-js-dict
  take form node-js-dict

load @drumwork/moon/code/javascript/base/socket
  take form socket

load @drumwork/moon/code/javascript/node/http/incoming-http-headers
  take form incoming-http-headers

load @drumwork/seed/code/form/list
  take form list
    save form list-link-text

load @drumwork/seed/code/form/sink
  take form sink
    save form sink-link-text

form incoming-message
  name <IncomingMessage>
  base stream-readable
  take aborted, name <aborted>, like native-boolean
  take http-version, name <httpVersion>, like native-string
  take http-version-major, name <httpVersionMajor>, like native-number
  take http-version-minor, name <httpVersionMinor>, like native-number
  take complete, name <complete>, like native-boolean
  take connection, name <connection>, like socket
  take socket, name <socket>, like socket
  take headers, name <headers>, like incoming-http-headers
  take raw-headers, name <rawHeaders>
    like list-link-text
      like native-string
  take trailers, name <trailers>
    like node-js-dict
      like native-string
  take raw-trailers, name <rawTrailers>
    like list-link-text
      like native-string
  take method, name <method>
    like sink-link-text
      like native-string
      like native-undefined
  take url, name <url>
    like sink-link-text
      like native-string
      like native-undefined
  take status-code, name <statusCode>
    like sink-link-text
      like native-number
      like native-undefined
  take status-message, name <statusMessage>
    like sink-link-text
      like native-string
      like native-undefined

  task set-timeout, name <setTimeout>
    take msecs, like native-number
    take callback
      like task
        free seed, like native-void
      void take
    free seed, like native-this

  task destroy, name <destroy>
    take error, like error
      void take
    free seed, like native-this

form incoming-message-constructor
  hook make
    take socket, like socket
