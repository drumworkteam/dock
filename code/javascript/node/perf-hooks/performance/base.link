
load @tunebond/moon
  take form any
  take form like
  take form task

load @tunebond/nest/code/javascript
  take form array
  take form native-number
  take form native-string
  take form native-void
  take form performance-node-timing

load @tunebond/nest/code/javascript/node/perf-hooks
  take form event-loop-utility-function
  take form mark-options
  take form measure-options
  take form timerify-options

form performance, name <Performance>
  link node-timing, name <nodeTiming>
    like performance-node-timing
  link time-origin, name <timeOrigin>
    like native-number
  link event-loop-utilization, name <eventLoopUtilization>
    like event-loop-utility-function
    flex true

  task clear-marks, name <clearMarks>
    take name, like native-string
      void true
    free seed, like native-void

  task mark, name <mark>
    take name, like native-string
      void true
    take options, like mark-options
      void true
    free seed, like native-void

  task measure, name <measure>
    take name, like native-string
    take start-mark, like native-string
      void true
    take end-mark, like native-string
      void true
    free seed, like native-void

  task measure, name <measure>
    take name, like native-string
    take options, like measure-options
    free seed, like native-void

  task now, name <now>
    free seed, like native-number

  task timerify, name <timerify>
    head t
      base task
        take params
          like array
            like any
          rest true
        free result, like any

    take fn, like t
    take options, like timerify-options
      void true
    free seed, like t
