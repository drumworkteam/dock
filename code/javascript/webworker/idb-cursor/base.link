
load @tunebond/moon
  take suit any
  take suit or

load @tunebond/nest/code/javascript/native
  take face native-number
  take face native-undefined
  take face native-void

load @tunebond/nest/code/javascript/webworker
  take face idb-cursor-direction
  take face idb-index
  take face idb-object-store
  take face idb-request
  take face idb-valid-key

load @tunebond/nest/code/javascript/dom/idb-cursor
  take face idb-cursor

face idb-cursor, name <IDBCursor>
  link direction, name <direction>
    like idb-cursor-direction
  link key, name <key>
    like idb-valid-key
  link primary-key, name <primaryKey>
    like idb-valid-key
  link source, name <source>
    like or
      like idb-object-store
      like idb-index

  task advance, name <advance>
    take count, like native-number
    free seed, like native-void

  task continue, name <continue>
    take key, like idb-valid-key
      void true
    free seed, like native-void

  task continue-primary-key, name <continuePrimaryKey>
    take key, like idb-valid-key
    take primary-key, like idb-valid-key
    free seed, like native-void

  task delete, name <delete>
    free seed
      like idb-request
        like native-undefined

  task update, name <update>
    take value, like any
    free seed
      like idb-request
        like idb-valid-key
